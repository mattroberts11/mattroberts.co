/**
 * Options System
 *
 * @package Jump_Start
 * @subpackage Theme_Blvd
 * @license GPL-2.0+
 */
window.themeblvd.options={},function(d,e,i){d("body");e.options.setup=function(e){var t=d(e);t.find(".show-hide").each(function(){var e=d(this);e.children(".trigger").find("input").is(":checked")?e.children(".receiver").show():(e.find(".receiver").each(function(){d(this).find("input, textarea, select").prop("disabled",!0)}),e.children(".receiver").hide())}),t.find(".show-hide-toggle").each(function(){var e=d(this),t=e.children(".trigger"),i="";i=t.hasClass("section-radio")?t.find(".of-radio:checked").val():t.find(".of-input").val(),e.children(".receiver").each(function(){d(this).hide().find("input, textarea, select").prop("disabled",!0)}),e.children(".receiver-"+i).each(function(){d(this).show().find("input, textarea, select").prop("disabled",!1)})}),t.find(".desc-toggle").each(function(){var e=d(this),t=e.children(".trigger").find(".of-input").val();e.find(".desc-receiver .explain").hide(),e.find(".desc-receiver .explain."+t).show()}),t.find(".section-content").each(function(){var e=d(this),t=e.find(".column-content-types select.select-type").val();e.find(".column-content-type").hide(),e.find(".column-content-type-"+t).show()}),t.find(".columns").each(function(){var e=d(this),t=e.find(".select-col-num").val();1<t?(e.find(".select-wrap-grid").show(),e.find(".section-column_widths").show(),e.closest(".widget-content").find(".column-height").show()):(e.find(".select-wrap-grid").hide(),e.find(".section-column_widths").hide(),e.closest(".widget-content").find(".column-height").hide()),e.find(".section-content").hide();for(var i=1;i<=t;i++)e.find(".col_"+i).show()}),t.find(".section-logo").each(function(){var e=d(this),t=e.find(".select-type select").val();e.find(".logo-item").hide(),e.find("."+t).show()}),t.find(".section-typography .of-typography-face").each(function(){var e=d(this);e.closest(".section-typography").find(".google-font").hide(),e.closest(".section-typography").find(".typekit-font").hide(),e.closest(".section-typography").find("."+e.val()+"-font").fadeIn("fast")}),t.find(".of-radio-img-label").hide(),t.find(".of-radio-img-img").show(),t.find(".of-radio-img-radio").hide(),t.find(".select-parallax").each(function(){var e=d(this);"parallax"===e.find(".of-background-attachment").val()?(e.find(".tb-background-repeat").hide(),e.find(".tb-background-position").hide(),e.find(".tb-background-size").hide(),e.find(".parallax").show()):(e.find(".tb-background-repeat").show(),e.find(".tb-background-position").show(),e.find(".tb-background-size").show(),e.find(".parallax").hide())}),t.find(".of-background-properties").each(function(){var e=d(this),t=e.find(".of-background-repeat").val(),i=e.find(".of-background-attachment").val();"no-repeat"===t&&"parallax"!==i?e.find(".of-background-size").show():e.find(".of-background-size").hide()}),d.isFunction(d.fn.slider)&&t.find(".jquery-ui-slider").each(function(){var o=d(this),n=o.closest(".jquery-ui-slider-wrap").find(".slider-input"),i=o.data("units");o.slider({min:o.data("min"),max:o.data("max"),step:o.data("step"),value:parseInt(n.val()),create:function(e,t){o.find(".ui-slider-handle").append('<span class="display-value"><span class="display-value-text"></span><span class="display-value-arrow"></span></span>');var i=o.find(".display-value");i.css("margin-left","-"+i.outerWidth()/2+"px"),i.find(".display-value-text").text(n.val())},slide:function(e,t){n.val(t.value+i),o.find(".display-value-text").text(t.value+i)}})}),d.isFunction(d.fn.wpColorPicker)&&t.find(".tb-color-picker").wpColorPicker({change:function(e,t){d(e.target).trigger("themeblvd-color-change")}}),d.isFunction(d.fn.wpColorPicker)&&t.find(".section-button").each(function(){var e=d(this);e.find(".color-picker").wpColorPicker(),e.find(".color.bg .wp-color-result-text").text(i.bg_color),e.find(".color.bg_hover .wp-color-result-text").text(i.bg_color_hover),e.find(".color.border .wp-color-result-text").text(i.border_color),e.find(".color.text .wp-color-result-text").text(i.text_color),e.find(".color.text_hover .wp-color-result-text").text(i.text_color_hover),e.find(".include.bg input").is(":checked")&&e.find(".color.bg").show(),e.find(".include.border input").is(":checked")&&e.find(".color.border").show()}),t.find(".tb-input-icon-link").themeblvd("modal",null,{build:!1,padding:!0,size:"custom",onDisplay:function(e){var t=e.$element,i=e.$modalWindow,o=t.closest(".input-wrap").find("input").val();if(i.find(".media-frame-content").scrollTop(0),i.find(".icon-search-input").val(""),i.find(".select-icon").removeClass("selected").show(),i.find(".icon-selection-wrap .icon-preview").empty(),0<i.find('[data-icon="'+o+'"]').length){var n=i.find('[data-icon="'+o+'"]');n.addClass("selected"),i.find(".icon-selection").val(o),i.find(".icon-preview").html(n.html()),i.find(".icon-text-preview").html(o)}},onSave:function(e){var t=e.$modalWindow.find(".icon-selection").val();e.$element.closest(".input-wrap").find("input").val(t)}}),t.find(".tb-input-post-id-link").themeblvd("modal",null,{build:!1,padding:!0,button:"",size:"custom",onDisplay:function(t){var i=t.$element,o=t.$modalWindow;o.find("#search-submit").off("click.tb-search-posts"),o.find("#search-submit").on("click.tb-search-posts",function(e){e.preventDefault();var t=d(this).closest(".post-browser-head"),i={action:"themeblvd_post_browser",data:t.find("#post-search-input").val()};t.find(".tb-loader").fadeIn(200),d.post(ajaxurl,i,function(e){o.find(".ajax-mitt").html("").append(e),t.find(".tb-loader").fadeOut(200)})}),o.off("click.tb-select-post",".select-post"),o.on("click.tb-select-post",".select-post",function(e){e.preventDefault(),o.find("#post-search-input").val(""),o.find(".ajax-mitt").html(""),i.closest(".input-wrap").find(".of-input").val(d(this).data("post-id")),t.close(t)})},onCancel:function(e){$browser=e.$modalWindow,$browser.find("#post-search-input").val(""),$browser.find(".ajax-mitt").html("")}}),t.find(".tb-texture-browser-link").themeblvd("modal",null,{build:!1,padding:!0,size:"custom",onDisplay:function(e){var t=e.$element,i=e.$modalWindow,o=t.closest(".controls").find(".of-input").val();i.find(".media-frame-content").scrollTop(0),i.find(".select-texture").each(function(){$link=d(this),$link.removeClass("selected"),o===$link.data("texture")&&($link.addClass("selected"),i.find(".texture-selection").val($link.data("texture")),i.find(".current-texture").text($link.data("texture-name")))})},onSave:function(e){var t=e.$element.closest(".controls").find(".of-input"),i=e.$modalWindow.find(".texture-selection").val();t.val(i)}}),t.find("#tb-footer-sync").is(":checked")?(t.find(".standard-footer-setup").hide(),t.find(".footer-template-setup").show()):(t.find(".standard-footer-setup").show(),t.find(".footer-template-setup").hide())}}(jQuery,window.themeblvd,themeblvdL10n),function(r,l){l.options.bind=function(e){var t=r(e),c=r("body");t.find(".tb-modal-link").themeblvd("modal"),l.isMobile(c)||(t.on("mouseenter",".tb-tooltip-link",function(){var e=r(this),t=e.data("tooltip-position"),i=e.offset().left,o=e.offset().top,n=e.data("tooltip-text"),d='<div class="themeblvd-tooltip %position%"> \t\t\t\t\t\t\t\t   <div class="tooltip-inner"> \t\t\t\t\t\t\t\t\t %text% \t\t\t\t\t\t\t\t   </div> \t\t\t\t\t\t\t\t   <div class="tooltip-arrow"></div> \t\t\t\t\t\t\t\t</div>';!n&&e.data("tooltip-toggle")&&(n=e.data("tooltip-text-"+e.data("tooltip-toggle"))),n||(n=e.attr("title")),t||(t="top"),d=(d=d.replace("%position%",t)).replace("%text%",n),c.append(d);var a=r(".themeblvd-tooltip"),l=a.outerHeight(),s=a.outerWidth();switch(t){case"left":i=i-s-5,o+=.5*e.outerHeight(),o-=l/2;break;case"right":i=i+e.outerWidth()+5,o+=.5*e.outerHeight(),o-=l/2;break;case"bottom":i+=.5*e.outerWidth(),i-=s/2,o=o+e.outerHeight()+2;break;case"top":default:i+=.5*e.outerWidth(),i-=s/2,o=o-l-2}a.css({top:o+"px",left:i+"px"}).addClass("fade in")}),t.on("mouseleave",".tb-tooltip-link",function(){r(".themeblvd-tooltip").remove()}),t.find(".tb-tooltip-link").on("click",function(){var e=r(this),t=e.data("tooltip-toggle");r(".themeblvd-tooltip").remove(),2==t?e.data("tooltip-toggle",1):e.data("tooltip-toggle",2)})),t.on("click",".show-hide > .trigger input",function(){var e=r(this);e.is(":checked")?(e.closest(".show-hide").find(".receiver").each(function(){r(this).find("input, textarea, select").prop("disabled",!1)}),e.closest(".show-hide").children(".receiver").fadeIn("fast")):(e.closest(".show-hide").find(".receiver").each(function(){r(this).find("input, textarea, select").prop("disabled",!0)}),e.closest(".show-hide").children(".receiver").hide())}),t.on("change",".show-hide-toggle > .trigger select.of-input",function(){var e=r(this),t=e.val(),i=e.closest(".show-hide-toggle");i.children(".receiver").each(function(){r(this).hide().find("input, textarea, select").prop("disabled",!0)}),i.children(".receiver-"+t).each(function(){r(this).show().find("input, textarea, select").prop("disabled",!1)})}),t.on("click",".show-hide-toggle > .trigger .of-radio",function(){var e=r(this),t=e.val(),i=e.closest(".show-hide-toggle");i.children(".receiver").each(function(){r(this).hide().find("input, textarea, select").prop("disabled",!0)}),i.children(".receiver-"+t).each(function(){r(this).show().find("input, textarea, select").prop("disabled",!1)})}),t.on("change",".desc-toggle > .trigger .of-input",function(){var e=r(this),t=e.val(),i=e.closest(".desc-toggle");i.find(".desc-receiver .explain").hide(),i.find(".desc-receiver .explain."+t).show()}),t.on("change",".column-content-types select.select-type",function(){var e=r(this),t=e.closest(".section-content"),i=e.val();t.find(".column-content-type").hide(),t.find(".column-content-type-"+i).show()}),t.on("change",".select-col-num",function(){var e=r(this),t=e.val(),i=e.closest(".columns");1<t?(i.find(".select-wrap-grid").show(),i.find(".section-column_widths").show(),i.closest(".widget-content").find(".column-height").show()):(i.find(".select-wrap-grid").hide(),i.find(".section-column_widths").hide(),i.closest(".widget-content").find(".column-height").hide()),i.find(".section-content").hide();for(var o=1;o<=t;o++)i.find(".col_"+o).show()}),t.on("change",".section-logo .select-type select",function(){var e=r(this),t=e.closest(".section-logo"),i=e.val();t.find(".logo-item").hide(),t.find("."+i).show()}),t.on("change",".section-typography .of-typography-face",function(){var e=r(this);e.closest(".section-typography").find(".google-font").hide(),e.closest(".section-typography").find(".typekit-font").hide(),e.closest(".section-typography").find("."+e.val()+"-font").fadeIn("fast")}),t.find(".tb-radio-img-img, .of-radio-img-img").on("click",function(e){e.preventDefault();var t=r(this);t.parent().parent().find(".of-radio-img-img").removeClass("tb-radio-img-selected of-radio-img-selected"),t.addClass("tb-radio-img-selected of-radio-img-selected")}),t.on("click",".select-categories input",function(){var e=r(this),t=e.closest(".controls");e.prop("checked")&&(e.hasClass("all")?t.find("input").each(function(){var e=r(this);e.hasClass("all")||e.prop("checked",!1)}):t.find("input.all").prop("checked",!1))}),t.on("change",".select-parallax .of-background-attachment",function(){var e=r(this),t=e.closest(".select-parallax");"parallax"==e.val()?(t.find(".tb-background-repeat").hide(),t.find(".tb-background-position").hide(),t.find(".tb-background-size").hide(),t.find(".parallax").show()):(t.find(".tb-background-repeat").show(),t.find(".tb-background-position").show(),t.find(".tb-background-size").show(),t.find(".parallax").hide())}),t.on("change",".of-background-properties .of-background-repeat",function(){var e=r(this),t=e.closest(".of-background-properties"),i=e.val(),o=t.find(".of-background-attachment").val();"no-repeat"===i&&"parallax"!==o?t.find(".tb-background-size").show():t.find(".tb-background-size").hide()}),t.on("click",".section-button .include input",function(){var e=r(this),t="bg";e.closest(".include").hasClass("border")&&(t="border"),e.is(":checked")?e.closest(".section-button").find(".color."+t).show():e.closest(".section-button").find(".color."+t).hide()}),t.find("#tb-footer-sync").on("click",function(){r(this).is(":checked")?(t.find(".standard-footer-setup").hide(),t.find(".footer-template-setup").show()):(t.find(".standard-footer-setup").show(),t.find(".footer-template-setup").hide())}),"object"==typeof google&&"object"==typeof google.maps&&t.on("click",".section-geo .geo-insert-lat-long",function(e){e.preventDefault();var i=r(this),o=i.closest(".geo-generate").find(".overlay"),t=new google.maps.Geocoder,n=i.prev(".address").val(),d="0",a="0";o.fadeIn(100),t.geocode({address:n},function(e,t){t==google.maps.GeocoderStatus.OK&&(d=e[0].geometry.location.lat(),a=e[0].geometry.location.lng()),setTimeout(function(){i.closest(".controls").find(".geo-lat .geo-input").val(d),i.closest(".controls").find(".geo-long .geo-input").val(a),t!=google.maps.GeocoderStatus.OK?l.confirm(i.data("oops"),{textOk:"Ok"}):i.prev(".address").val(""),o.fadeOut(100)},1500)})})}}(jQuery,window.themeblvd),function(h,m,e){"undefined"!=typeof wp&&void 0!==wp.media&&(m.options.mediaUploader={},m.options.mediaUploader.frames={},m.options.mediaUploader.init=function(e){var t=h(e),i=m.options.mediaUploader;t.find(".upload-button").off("click"),t.find(".remove-image, .remove-file").off("click"),t.find(".add-images").off("click"),t.find(".upload-button").on("click",function(e){e.preventDefault(),i.addFile(h(this).closest(".section-upload, .section-media"))}),t.find(".remove-image, .remove-file").on("click",function(e){e.preventDefault(),i.removeFile(h(this).closest(".section-upload, .section-media"))}),t.find(".add-images").on("click",function(e){e.preventDefault();var t=h(this);i.addImages(t,t.closest(".section-sortable"))})},m.options.mediaUploader.addFile=function(a){var l=m.options.mediaUploader,e=a.find("input.upload").attr("id");if(l.frames[e])l.frames[e].open();else{var s=null,t=a.find(".trigger"),c=t.data("type"),i=t.data("title"),o=t.data("select"),n=t.data("class"),r=t.data("send-back"),f=t.data("link"),d="image",u=!1,p="library";"video"===c&&(d="video"),"media"===c&&(u=!(d="")),"advanced"===c&&(p="themeblvd_advanced"),s=l.frames[e]=wp.media.frames.file_frame=wp.media({frame:"select",state:p,className:"media-frame "+n,title:i,library:{type:d},button:{text:o},multiple:u}),"advanced"===c&&s.states.add([new wp.media.controller.Library({id:"themeblvd_advanced",title:i,priority:20,toolbar:"select",filterable:"uploaded",library:wp.media.query(s.options.library),multiple:!1,editable:!0,displayUserSettings:!1,displaySettings:!0,allowLocalEdits:!0})]),s.on("select",function(){var e,t,i,o,n=s.state().get("selection").first(),d=a.find(".trigger").data("remove");t="advanced"===c?(e=s.$el.find('.attachment-display-settings select[name="size"]').val(),n.attributes.sizes[e].url):n.attributes.url,"id"===r?a.find(".image-url").val(n.attributes.id):a.find(".image-url").val(t),"image"===n.attributes.type&&a.find(".screenshot").empty().hide().append('<img src="'+t+'"><a class="remove-image"></a>').slideDown("fast"),"logo"===c&&(a.find(".image-width").val(n.attributes.width),a.find(".image-height").val(n.attributes.height)),"video"===c&&a.find(".video-url").val(n.attributes.url),"slider"===c&&(a.find(".image-id").val(n.attributes.id),a.find(".image-title").val(n.attributes.title),(o=a.find(".image-title").val())&&a.closest(".widget").find(".slide-summary").text(o).fadeIn(200)),"video"!==c&&"media"!==c&&(a.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(d),a.find(".of-background-properties").slideDown(),a.find(".remove-image, .remove-file").on("click",function(e){e.preventDefault(),l.removeFile(h(this).closest(".section-upload"))})),"advanced"!==c&&"background"!==c||(a.find(".image-id").val(n.attributes.id),a.find(".image-title").val(n.attributes.title),a.find(".image-alt").val(n.attributes.alt),a.find(".image-caption").val(n.attributes.caption),e&&a.find(".image-crop").val(e),f&&"none"!==s.$el.find(".attachment-display-settings .link-to").val()&&(i=s.$el.find(".attachment-display-settings .link-to-custom").val(),a.closest(".advanced-image-upload").find(".receive-link-url input").val(i)))}),s.open(),"advanced"===c&&(s.$el.addClass("hide-menu"),s.$el.find(".attachment-display-settings label:first-of-type").remove(),f||s.$el.find(".attachment-display-settings div.setting").remove())}},m.options.mediaUploader.removeFile=function(e){var t=m.options.mediaUploader,i=e.find(".trigger").data("upload");"slider"===e.find(".trigger").data("type")&&e.closest(".widget").find(".slide-summary").removeClass("image video").hide().text(""),e.find(".remove-image").hide(),e.find(".upload").val(""),e.find(".of-background-properties").hide(),e.find(".screenshot").slideUp(),e.find(".remove-file").addClass("upload-button").removeClass("remove-file").val(i),e.find(".upload-button").on("click",function(e){e.preventDefault(),t.addFile(h(this).closest(".section-upload"))})},m.options.mediaUploader.addImages=function(e,l){var t=m.options.mediaUploader,i=e.attr("id");if(t.frames[i])t.frames[i].open();else{var s=t.frames[i]=wp.media.frames.file_frame=wp.media({frame:"select",className:"media-frame tb-modal-hide-settings",title:e.data("title"),library:{type:"image"},button:{text:e.data("button")},multiple:"add"});s.on("select update insert",function(e){var t,i,o=s.state(),n=0,d=[],a=l.find(".tb-sortable-option");(void 0!==e?e:o.get("selection")).map(function(e){t=e.toJSON(),d[n]={id:t.id,title:t.title},t.sizes.tb_thumb?d[n].preview=t.sizes.tb_thumb.url:d[n].preview=t.sizes.full.url,n++}),i={action:"themeblvd-add-"+a.data("type")+"-item",security:a.data("security"),data:{option_name:a.data("name"),option_id:a.data("id"),items:d}},h.post(ajaxurl,i,function(e){l.find(".item-container").append(e);var t=l.find(".item-container .item").slice(-d.length);t.addClass("add"),window.setTimeout(function(){t.removeClass("add")},500),l.find(".delete-sortable-items").fadeIn(200),t.find(".delete-sortable-item").on("click",function(e){e.preventDefault();var t=h(this),i=t.closest(".section-sortable"),o=t.closest(".item");m.confirm(t.attr("title"),{confirm:!0},function(e){e&&(o.addClass("delete"),window.setTimeout(function(){o.remove(),i.find(".item-container .item").length||i.find(".delete-sortable-items").fadeOut(200)},500))})}),t.find(".toggle").on("click",function(e){e.preventDefault();var t=h(this);t.closest(".item-handle").hasClass("closed")?(t.closest(".item-handle").removeClass("closed"),t.closest(".item").find(".item-content").show()):(t.closest(".item-handle").addClass("closed"),t.closest(".item").find(".item-content").hide())}),t.find(".item-handle h3").each(function(){var e=h(this),t=e.closest(".item").find(".handle-trigger");t.is("select")?e.closest(".item").find(".item-handle h3").text(t.find('option[value="'+t.val()+'"]').text()):e.closest(".item").find(".item-handle h3").text(t.val())}),t.find(".handle-trigger").on("change",function(){var e=h(this);e.is("select")?e.closest(".item").find(".item-handle h3").text(e.find('option[value="'+e.val()+'"]').text()):e.closest(".item").find(".item-handle h3").text(e.val())}),t.themeblvd("options","setup")})}),s.open()}})}(jQuery,window.themeblvd,themeblvdL10n),function(c,r,e,t){wp=r.wp||{},e.options.editor=function(e){void 0!==wp.editor&&c(e).find(".tb-editor-input").each(function(){var e=c(this),t=e.attr("id"),i=e.data("style"),o=250,n="charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",d="formatselect bold italic bullist numlist blockquote alignleft aligncenter alignright link",a=null,l=null,s=null;void 0!==r.tinymce?(tinymce.get(t)&&wp.editor.remove(t),"mini"==i&&(o=200,d="formatselect bold italic bullist link"),"mini"!=i&&(e.data("plugins")&&(n=e.data("plugins")),e.data("toolbar1")&&(d=e.data("toolbar1")),e.data("toolbar2")&&(a=e.data("toolbar2")),e.data("toolbar3")&&(l=e.data("toolbar3")),e.data("toolbar4")&&(s=e.data("toolbar4"))),wp.editor.initialize(t,{tinymce:{wpautop:!0,theme:"modern",height:o,plugins:n,toolbar1:d,toolbar2:a,toolbar3:l,toolbar4:s},quicktags:!0,mediaButtons:!0}),"mini"!=i&&themeblvdL10n.add_shortcode&&($shortcodeButton=c('<a href="#" class="tb-insert-shortcode button" title="'+themeblvdL10n.add_shortcode+'"><span class="tb-icon"></span>'+themeblvdL10n.add_shortcode+"</a>"),e.closest(".wp-editor-tools").find(".wp-media-buttons").append($shortcodeButton),$shortcodeButton.on("click",function(e){e.preventDefault(),c("#tb-shortcode-generator").show(),c("body").addClass("themeblvd-stop-scroll themeblvd-shortcode-generator-on")}))):wp.editor.initialize(t,{tinymce:!1,quicktags:!0,mediaButtons:!0})})}}(jQuery,window,window.themeblvd,themeblvdL10n),function(d,a,l,e){wp=a.wp||{},l.options.codeEditorLangs={},l.options.codeEditors={},l.options.addCodeEditorLang=function(e,t){l.options.codeEditorLangs[e]=t},l.options.addCodeEditor=function(e,t){void 0!==wp.codeEditor&&(l.options.codeEditors[e]=wp.codeEditor.initialize(e,t))},l.options.codeEditor=function(e){void 0!==wp.codeEditor&&d(e).find(".section-code").each(function(){var e=a.themeblvd.options.codeEditors,t=a.themeblvd.options.codeEditorLangs,i=d(this).find("textarea"),o=i.attr("id"),n=i.data("code-lang");void 0===e[o]?void 0!==t[n]&&l.options.addCodeEditor(o,t[n]):e[o].codemirror.refresh()})}}(jQuery,window,window.themeblvd,themeblvdL10n),function(_,D,e){D.options.columnWidths={},D.options.columnWidths.init=function(e){$element=_(e),$element.find(".section-column_widths").each(function(){D.options.columnWidths.build(_(this).closest(".subgroup.columns"))})},D.options.columnWidths.build=function(k){var C,e,t=k.find(".slider").attr("id"),$=3,i=0,o="",a=k.find(".column-width-input").val(),l=[];if(e={10:{2:{values:[0,5,10],display:["1/2","1/2"]},3:{values:[0,3,7,10],display:["3/10","2/5","3/10"]},4:{values:[0,2,5,8,10],display:["1/5","3/10","3/10","1/5"]},5:{values:[0,2,4,6,8,10],display:["1/5","1/5","1/5","1/5","1/5"]},6:{values:[0,1,3,5,7,9,10],display:["1/10","1/5","1/5","1/5","1/5","1/10"]}},12:{2:{values:[0,6,12],display:["1/2","1/2"]},3:{values:[0,4,8,12],display:["1/3","1/3","1/3"]},4:{values:[0,3,6,9,12],display:["1/4","1/4","1/4","1/4"]},5:{values:[0,2,4,8,10,12],display:["1/6","1/6","1/3","1/6","1/6"]},6:{values:[0,2,4,6,8,10,12],display:["1/6","1/6","1/6","1/6","1/6","1/6"]}}},C=k.find(".select-grid-system").val(),$=k.find(".select-col-num").val(),k.find(".select-col-num").off("change.ui-slider"),k.find(".select-col-num").on("change.ui-slider",D.options.columnWidths.change),k.find(".select-grid-system").off("change.ui-slider"),k.find(".select-grid-system").on("change.ui-slider",D.options.columnWidths.change),0!=$){if(1==$)return k.find(".slider").append('<div class="column-preview col-1" style="width:100%"><span class="text">100%</span></div>'),void k.find(".column-width-input").val("1/1").trigger("themeblvd-update-columns");if(a){a=a.split("-"),$=a.length;for(var n=0;n<=$;n++)l[n]=0===n?0:n==$?C:(o=a[n-1].split("/"),i+=C*o[0]/o[1])}else l=e[C][$].values,a=e[C][$].display,k.find(".column-width-input").val(a.join("-")).trigger("themeblvd-update-columns");_("#"+t).slider({range:"max",min:0,max:C,step:1,values:l,create:function(e,t){var i=0,o=0,n=0,d="";for(i=1;i<=$;i++)k.find(".slider").append('<div class="column-preview col-'+i+'"><span class="text">'+a[i-1]+"</span></div>"),n=(l[i]-l[i-1])/C*100,k.find(".col-"+i).css("width",n+"%"),1<i&&k.find(".col-"+i).css("left",o+"%"),o+=n;for(o=0,d='<div class="grid-display grid-'+C+'">',i=1;i<=C;i++)d+='<div class="grid-column grid-col-'+i+'"></div>';for(d+="</div>",k.find(".slider").append(d),i=1;i<=C;i++)o+=1/C*100,k.find(".grid-col-"+i).css("left",o+"%")},slide:function(e,t){var i=_(t.handle).index(),o=t.values,n=o.length;if(1==i||n==i)return!1;var d,a,l,s,c,r=_(t.handle).closest(".column-widths-wrap"),f=r.find(".column-width-input"),u=t.value,p=o[i],h=o[i-2],m="",v="",g="",b="",w=0,x=0;if(u<=h||p<=u)return!1;s=u-h,l=p-u,a=i-1,d=i,m=(m=D.options.columnWidths.reduceFraction(s,C))[0].toString()+"/"+m[1].toString(),v=(v=D.options.columnWidths.reduceFraction(l,C))[0].toString()+"/"+v[1].toString(),r.find('input[name="col['+a+']"]').val(m),r.find('input[name="col['+d+']"]').val(v),g=(g=f.val()).split("-");for(var y=1;y<=g.length;y++)b+=y==a?m:y==d?v:g[y-1],y!=g.length&&(b+="-");for(f.val(b).trigger("themeblvd-update-columns"),c=b.split("-"),y=1;y<=$;y++)x=(o[y]-o[y-1])/C*100,k.find(".col-"+y).css("width",x+"%"),k.find(".col-"+y+" .text").text(c[y-1]),1<y&&k.find(".col-"+y).css("left",w+"%"),w+=x}})}},D.options.columnWidths.change=function(){var e=_(this),t=_("#"+e.data("slider"));t.data("uiSlider")&&t.slider("destroy"),t.html("").closest(".column-widths-wrap").find(".column-width-input").val(""),D.options.columnWidths.build(e.closest(".subgroup.columns"))},D.options.columnWidths.reduceFraction=function(e,t){var i=function e(t,i){return i?e(i,t%i):t};return[e/(i=i(e,t)),t/i]}}(jQuery,window.themeblvd,themeblvdL10n),function(l,s,e){s.options.sortable={},s.options.sortable.init=function(e){l(e).find(".tb-sortable-option").each(function(){var n=l(this),d=n.closest(".section-sortable"),a=n.data("max");d.find(".item").each(function(){s.options.sortable.setupItem(l(this))}),n.find(".item-container .item").length&&n.find(".delete-sortable-items").show(),d.find(".item-container").sortable({handle:".item-handle",stop:function(e,t){t.item.themeblvd("options","editor")}}),d.find(".add-item").off("click"),d.find(".add-item").on("click",function(e){e.preventDefault();var t,i=l(this),o=null;t={action:"themeblvd-add-"+n.data("type")+"-item",security:n.data("security"),data:{option_name:n.data("name"),option_id:n.data("id")}},l.post(ajaxurl,t,function(e){d.find(".item-container").append(e),(o=d.find(".item").last()).addClass("add"),window.setTimeout(function(){o.removeClass("add")},500),d.find(".delete-sortable-items").fadeIn(200),s.options.sortable.setupItem(o),o.themeblvd("options","setup"),o.themeblvd("options","editor"),o.themeblvd("options","code-editor"),o.themeblvd("options","media-uploader"),0<a&&n.find(".item-container > .item").length>=a&&i.prop("disabled",!0)})}),d.find(".delete-sortable-items").off("click"),d.find(".delete-sortable-items").on("click",function(e){e.preventDefault();var t=l(this),i=t.closest(".tb-sortable-option"),o=i.find(".item");s.confirm(t.attr("title"),{confirm:!0},function(e){e&&(o.addClass("delete"),window.setTimeout(function(){o.remove(),i.find(".delete-sortable-items").fadeOut(200),i.find(".add-item").prop("disabled",!1)},500))})})})},s.options.sortable.setupItem=function(e){e.find(".delete-sortable-item").off("click"),e.find(".delete-sortable-item").on("click",function(e){e.preventDefault();var t=l(this),i=t.closest(".section-sortable"),o=t.closest(".item"),n=t.closest(".tb-sortable-option").data("max");s.confirm(t.attr("title"),{confirm:!0},function(e){e&&(o.addClass("delete"),window.setTimeout(function(){o.remove(),i.find(".item-container .item").length||i.find(".delete-sortable-items").fadeOut(200),0<n&&i.find(".item-container > .item").length<n&&i.find(".add-item").prop("disabled",!1)},500))})}),e.find(".toggle").off("click"),e.find(".toggle").on("click",function(e){e.preventDefault();var t=l(this);t.closest(".item-handle").hasClass("closed")?(t.closest(".item-handle").removeClass("closed"),t.closest(".item").find(".item-content").show()):(t.closest(".item-handle").addClass("closed"),t.closest(".item").find(".item-content").hide())}),e.find(".item-handle h3").each(function(){var e=l(this),t=e.closest(".item").find(".handle-trigger");t.is("select")?e.closest(".item").find(".item-handle h3").text(t.find('option[value="'+t.val()+'"]').text()):e.closest(".item").find(".item-handle h3").text(t.val())}),e.find(".handle-trigger").off("change"),e.find(".handle-trigger").on("change",function(){var e=l(this);e.is("select")?e.closest(".item").find(".item-handle h3").text(e.find('option[value="'+e.val()+'"]').text()):e.closest(".item").find(".item-handle h3").text(e.val())})}}(jQuery,window.themeblvd,themeblvdL10n),jQuery(document).ready(function(d){var t=d(".themeblvd-icon-browser");t.themeblvd("options","setup"),t.themeblvd("options","bind"),t.find(".select-icon").on("click",function(e){e.preventDefault();var t=d(this),i=t.closest(".themeblvd-icon-browser"),o=t.data("icon"),n=t.html();i.find(".select-icon").removeClass("selected"),t.addClass("selected"),i.find(".icon-selection").val(o),i.find(".icon-preview").html(n),i.find(".icon-text-preview").html(o)}),t.find(".icon-search-input").on("keyup",function(e){var o=d(this).val(),n=[];o?(t.find(".select-icon").hide(),"undefined"!=typeof themeblvdIconSearchData&&d.each(themeblvdIconSearchData,function(e,t){var i;for(i=0;i<t.length;i++)0===t[i].indexOf(o)&&(n.push(".icon-"+e),i=t.length)}),t.find(n.join()).show()):t.find(".select-icon").show()}),d(".themeblvd-texture-browser").themeblvd("options","setup"),d(".themeblvd-texture-browser").themeblvd("options","bind"),d.isFunction(d.fn.wpColorPicker)&&d("#texture-browser-perview-color").wpColorPicker({change:function(){d(".themeblvd-texture-browser .select-texture span").css("background-color",d("#texture-browser-perview-color").val())}}),d(".themeblvd-texture-browser .wp-color-result").attr("title","Temporary Preview Color"),d(".themeblvd-texture-browser .select-texture span").css("background-color",d("#texture-browser-perview-color").val()),d(".themeblvd-texture-browser .select-texture").on("click",function(e){e.preventDefault();var t=d(this);t.closest(".themeblvd-texture-browser").find(".select-texture").each(function(){d(this).removeClass("selected")}),t.addClass("selected"),t.closest(".themeblvd-texture-browser").find(".texture-selection").val(t.data("texture")),t.closest(".themeblvd-texture-browser").find(".current-texture").text(t.data("texture-name"))})});