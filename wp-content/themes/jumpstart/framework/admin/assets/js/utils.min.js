/**
 * Admin Utilities
 *
 * This is file is required before running any
 * other framework administration JavaScript files.
 *
 * @package Jump_Start
 * @subpackage Theme_Blvd
 * @license GPL-2.0+
 */
var themeblvd={};function tbc_confirm(t,e,o){window.themeblvd.confirm(t,e,o)}!function(e,t){window.themeblvd.isMobile=function(t){return t||(t=e("body")),!!t.hasClass("mobile")||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}(jQuery),function(m,t,c){t.confirm=function(t,e,o){var n,d,i,a=m("body"),l=m(window);(e=m.extend({confirm:!1,verify:!1,input:!1,inputDesc:"",textOk:c.ok,textCancel:c.cancel,textYes:c.yes,textNo:c.no,className:""},e)).input_desc&&(e.inputDesc=e.input_desc),a.append('<div class="themeblvd-confirm-overlay"></div>'),a.append('<div class="themeblvd-confirm-outer"></div>'),(n=m(".themeblvd-confirm-outer")).append('<div class="themeblvd-confirm-inner"></div>'),(d=m(".themeblvd-confirm-inner")).append(t),n.css("left",(l.width()-n.width())/2+l.scrollLeft()+"px"),n.css("top","100px").fadeIn(200),e.className&&n.addClass(e.className),e.input&&("string"==typeof e.input?d.append('<div class="themeblvd-confirm-input"><input type="text" class="themeblvd-confirm-text-box" t="themeblvd-confirm-text-box" value="'+e.input+'" /></div>'):"object"==typeof e.input?d.append(m('<div class="themeblvd-confirm-input"></div>').append(e.input)):d.append('<div class="themeblvd-confirm-input"><input type="text" class="themeblvd-confirm-text-box" /></div>'),e.inputDesc&&n.find(".themeblvd-confirm-text-box").after("<label>"+e.inputDesc+"</label>"),n.find(".themeblvd-confirm-text-box").focus()),d.append('<div class="themeblvd-confirm-buttons"></div>'),i=m(".themeblvd-confirm-buttons"),e.confirm||e.input?(i.append('<button class="button-primary" value="ok">'+e.textOk+"</button>"),i.append('<button class="button-secondary" value="cancel">'+e.textCancel+"</button>")):e.verify?(i.append('<button class="button-primary" value="ok">'+e.textYes+"</button>"),i.append('<button class="button-secondary" value="cancel">'+e.textNo+"</button>")):i.append('<button class="button-primary" value="ok">'+e.textOk+"</button>"),m(document).on("keydown",function(t){m(".themeblvd-confirm-overlay").is(":visible")&&(13==t.keyCode&&m('.themeblvd-confirm-buttons > button[value="ok"]').trigger("click"),27==t.keyCode&&m('.themeblvd-confirm-buttons > button[value="cancel"]').trigger("click"))});var s=m(".themeblvd-confirm-text-box").val();m(".themeblvd-confirm-text-box").on("keyup",function(){s=m(this).val()}),i.find("button").on("click",function(){if(m(".themeblvd-confirm-overlay").remove(),n.remove(),o){var t=m(this).attr("value");"ok"==t?e.input?o(s):o(!0):"cancel"==t&&o(!1)}})}}(jQuery,window.themeblvd,themeblvdL10n),function(t,i){t.fn.themeblvd=function(t,e,o){var n="",d="";return"init"===t&&(t="setup"),t&&(n=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),e&&(d=e.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),this.each(function(){void 0!==i[n]?e?void 0!==i[n][d]?void 0!==i[n][d].init?o?i[n][d].init(this,o):i[n][d].init(this):o?i[n][d](this,o):i[n][d](this):console.log('Theme Blvd admin component "'+t+'" is missing part "'+e+'."'):void 0!==i[n].init?o?i[n].init(this,o):i[n].init(this):o?i[n](this,o):i[n](this):console.log('Theme Blvd admin component "'+t+'" is missing.')})}}(jQuery,window.themeblvd),function(d,i,a){i.modal={},i.modal.defaults={title:"Setup",button:"Apply",buttonDelete:"",buttonSecondary:"",size:"large",height:"large",build:!0,form:!1,codeLang:"html",vimeo:"",padding:!1,sendBack:{},cssClass:"",onLoad:function(t){},onDisplay:function(t){},onCancel:function(t){},onSave:function(t){},onDelete:function(t){},onSecondary:function(t){}},i.modal.init=function(t,e){var o=Object.create(i.modal);for(var n in o.element=t,o.$element=d(t),o.secondary=!1,o.settings=d.extend({},o.defaults,e),o.settings)o.$element.data(n)&&(o.settings[n]=o.$element.data(n));o.target=o.$element.data("target"),o.$target=d("#"+o.target),o.$element.off("click.themeblvd-modal"),o.$element.on("click.themeblvd-modal",function(t){if(t.preventDefault(),o.popup="",d("body").hasClass("themeblvd-modal-on")&&(o.secondary=!0),o.id=o.settings.vimeo?"video-"+o.settings.vimeo:o.target,o.settings.build&&(o.id+="_build",o.build(o)),o.$modalWindow=d("#"+o.id),o.$modalWindow.data("target",o.target),o.settings.padding&&o.$modalWindow.find(".media-frame-content-inner").css("padding","20px"),o.settings.onLoad(o),o.$modalWindow.find(".media-modal-close").off("click.themeblvd-modal-close"),o.$modalWindow.find(".media-modal-close").on("click.themeblvd-modal-close",function(t){t.preventDefault(),d(this).trigger("themeblvd-modal-close",o),o.settings.onCancel(o),o.close(o)}),o.$modalWindow.find(".media-button-insert").off("click.themeblvd-modal-insert"),o.$modalWindow.find(".media-button-insert").on("click.themeblvd-modal-insert",function(t){t.preventDefault(),d(this).trigger("themeblvd-modal-insert",o),o.settings.onSave(o),o.save(o),o.close(o)}),o.settings.buttonSecondary&&(o.$modalWindow.find(".media-button-secondary").off("click.themeblvd-modal-secondary"),o.$modalWindow.find(".media-button-secondary").on("click.themeblvd-modal-secondary",function(t){t.preventDefault(),d(this).trigger("themeblvd-modal-secondary",o),o.settings.onSecondary(o),o.close(o)})),o.settings.buttonDelete){var e=o.$element.parent().is(".block-nav")?a.delete_block:a.delete_item;o.$modalWindow.find(".media-button-delete").off("click.themeblvd-modal-delete"),o.$modalWindow.find(".media-button-delete").on("click.themeblvd-modal-delete",function(t){t.preventDefault(),i.confirm(e,{confirm:!0},function(t){t&&(d(this).trigger("themeblvd-modal-delete",o),o.settings.onDelete(o),o.close(o))})})}o.display(o),o.settings.onDisplay(o)})},i.modal.build=function(t){t.popup='<div id="%id%" class="themeblvd-modal-wrap build" style="display:none;"> \t\t\t\t\t\t\t<div class="themeblvd-modal %size%-modal %height%-height-modal media-modal wp-core-ui hide"> \t\t\t\t\t\t\t\t<button type="button" class="media-modal-close"> \t\t\t\t\t\t\t\t\t<span class="media-modal-icon"> \t\t\t\t\t\t\t\t\t\t<span class="screen-reader-text">x</span> \t\t\t\t\t\t\t\t\t</span> \t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t\t<div class="media-modal-content"> \t\t\t\t\t\t\t\t\t<div class="media-frame wp-core-ui hide-menu hide-router"> \t\t\t\t\t\t\t\t\t\t<div class="media-frame-title"> \t\t\t\t\t\t\t\t\t\t\t<h1>%title%</h1> \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-title (end) --\x3e \t\t\t\t\t\t\t\t\t\t<div class="media-frame-content"> \t\t\t\t\t\t\t\t\t\t\t<div class="media-frame-content-inner"> \t\t\t\t\t\t\t\t\t\t\t\t<div class="content-mitt"> \t\t\t\t\t\t\t\t\t\t\t\t\t%content% \t\t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-content-inner (end) --\x3e \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-content (end) --\x3e \t\t\t\t\t\t\t\t\t\t<div class="media-frame-toolbar"> \t\t\t\t\t\t\t\t\t\t\t<div class="media-toolbar"> \t\t\t\t\t\t\t\t\t\t\t\t<div class="media-toolbar-primary"> \t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="button media-button button-primary button-large media-button-insert">%button_text%</a> \t\t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-toolbar (end) --\x3e \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-toolbar (end) --\x3e \t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame (end) --\x3e \t\t\t\t\t\t\t\t</div>\x3c!-- .media-modal-content (end) --\x3e \t\t\t\t\t\t\t </div>\x3c!-- .themeblvd-modal (end) --\x3e \t\t\t\t\t\t </div>',t.popup=t.popup.replace("%id%",t.id),t.popup=t.popup.replace("%size%",t.settings.size),t.popup=t.popup.replace("%height%",t.settings.height),t.popup=t.popup.replace("%title%",t.settings.title),t.popup=t.popup.replace("%button_text%",t.settings.button),t.settings.form&&(t.popup=t.popup.replace("%content%",'<div class="tb-options-wrap"></div>')),t.settings.vimeo&&(t.popup=t.popup.replace(t.settings.height+"-height-modal","modal-video"),t.popup=t.popup.replace("%content%",'<iframe src="https://player.vimeo.com/video/'+t.settings.vimeo+'?autoplay=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')),t.settings.custom&&(t.popup=t.popup.replace("%content%","")),d("body").append(t.popup);var e=d("#"+t.id);t.settings.button||t.settings.buttonSecondary||t.settings.buttonDelete||(e.find(".media-frame-toolbar").remove(),e.find(".themeblvd-modal").addClass("hide-toolbar")),t.settings.buttonSecondary&&e.find(".media-toolbar").prepend('<div class="media-toolbar-secondary"><a href="#" class="button media-button button-secondary button-large media-button-secondary">'+t.settings.buttonSecondary+"</a></div>"),t.settings.buttonDelete&&e.find(".media-toolbar").prepend('<div class="media-toolbar-secondary"><a href="#" class="button media-button button-secondary button-large media-button-delete">'+t.settings.buttonDelete+"</a></div>"),t.$target.after('<div id="'+t.id+'_marker"></div>'),t.settings.form?e.find(".tb-options-wrap").append(t.$target):e.find(".content-mitt").append(t.$target)},i.modal.display=function(e){var t,o=d("body");if(e.secondary?(o.addClass("themeblvd-secondary-modal-on"),e.$modalWindow.find(".themeblvd-modal").removeClass("themeblvd-first-modal").addClass("themeblvd-second-modal"),o.find(".themeblvd-first-modal").prepend('<div class="inline-media-modal-backdrop"></div>')):(o.addClass("themeblvd-modal-on"),o.addClass("themeblvd-stop-scroll"),o.append('<div id="themeblvd-modal-backdrop" class="media-modal-backdrop"></div>'),e.$modalWindow.find(".themeblvd-modal").addClass("themeblvd-first-modal"),d("#themeblvd-modal-backdrop").off("click.themeblvd-modal-backdrop"),d("#themeblvd-modal-backdrop").on("click.themeblvd-modal-backdrop",function(t){t.preventDefault(),e.settings.onCancel(e),e.closeAll(e)})),e.settings.cssClass&&e.$modalWindow.find(".themeblvd-modal").addClass(e.settings.cssClass),e.$modalWindow.show(),"auto"==e.settings.height){var n=d(window).height();t=57+(t=e.$modalWindow.find(".media-frame-content-inner").outerHeight())+60,t+=10,e.$modalWindow.find(".themeblvd-modal").css({"max-height":t+"px",top:(n-t)/2+"px"}),d(window).resize(function(){e.$modalWindow.find(".themeblvd-modal").css("top",(d(window).height()-t)/2+"px")})}e.settings.form&&(e.$modalWindow.themeblvd("options","setup"),e.$modalWindow.themeblvd("options","bind"),e.$modalWindow.themeblvd("options","media-uploader"),e.$modalWindow.themeblvd("options","sortable"),e.$modalWindow.themeblvd("options","code-editor"))},i.modal.close=function(t){var e=d("body");t.settings.build&&d("#"+t.id+"_marker").after(t.$target).remove(),t.$modalWindow.find(".media-button-secondary").off("click.themeblvd-modal-secondary"),t.$modalWindow.find(".media-modal-close").off("click.themeblvd-modal-close"),t.$modalWindow.find(".media-button-insert").off("click.themeblvd-modal-insert"),t.$modalWindow.find(".media-button-delete").off("click.themeblvd-modal-delete"),t.settings.build?t.$modalWindow.remove():t.$modalWindow.hide(),t.secondary?(e.removeClass("themeblvd-secondary-modal-on"),e.find(".themeblvd-modal-wrap .inline-media-modal-backdrop").remove()):(e.removeClass("themeblvd-modal-on"),e.removeClass("themeblvd-stop-scroll"),d("#themeblvd-modal-backdrop").remove())},i.modal.closeAll=function(t){d(".themeblvd-modal-wrap").each(function(){var t,e,o=d(this);o.hasClass("build")?(t=o.attr("id"),e=o.data("target"),d("#"+t+"_marker").after(d("#"+e)).remove(),o.remove()):o.hide(),d("#themeblvd-modal-backdrop").remove(),d("body").removeClass("themeblvd-modal-on themeblvd-secondary-modal-on themeblvd-stop-scroll")})},i.modal.save=function(t){},d.fn.ThemeBlvdModal=function(t){return this.each(function(){i.modal.init(this,t)})}}(jQuery,window.themeblvd,themeblvdL10n),function(d,n){n.setup=function(t){var e=d(t);e.off("click.tb-widget"),e.on("click.tb-widget",".widget-name-arrow, .block-widget-name-arrow",function(t){t.preventDefault();var e=d(this),o="widget",n=!1;e.hasClass("block-widget-name-arrow")&&(o="block-widget"),e.closest("."+o+"-name").hasClass(o+"-name-closed")&&(n=!0),n?(e.closest("."+o).find("."+o+"-content").show(),e.closest("."+o).find("."+o+"-name").removeClass(o+"-name-closed"),e.closest("."+o).themeblvd("options","code-editor")):(e.closest("."+o).find("."+o+"-content").hide(),e.closest("."+o).find("."+o+"-name").addClass(o+"-name-closed"))}),e.on("click",".tooltip-link",function(t){t.preventDefault(),n.confirm(d(this).attr("title"),{textOk:"Ok"})}),e.on("click",".delete-me",function(t){var e=d(this),o=e.attr("href");n.confirm(e.attr("title"),{confirm:!0},function(t){t&&d(o).remove()})})}}(jQuery,window.themeblvd),function(n,t){window.themeblvd.accordion=function(t){var o=n(t);o.find(".element-content").hide(),o.find(".element-content:first").show(),o.find(".element-trigger:first").addClass("active"),o.find(".element-trigger").on("click",function(t){t.preventDefault();var e=n(this);e.hasClass("active")||(o.find(".element-content").hide(),o.find(".element-trigger").removeClass("active"),e.addClass("active"),e.next(".element-content").show())})}}(jQuery),function(o,t){window.themeblvd.widgets=function(t){var e=o(t);e.find(".widget-content").hide(),e.find(".widget-name").addClass("widget-name-closed"),e.find(".block-content").hide(),e.find(".block-handle").addClass("block-handle-closed")}}(jQuery);